---
title: 变量
date: 2019/10/13
tags: c
comments: true
---

variable
<!--more-->

## 作用域

* 局部变量  
定义：在函数内部定义的变量，称为局部变量。形式参数也属于局部变量。  
作用域：局部变量只在定义它的函数内部有效，即局部变量只有在定义它的函数内部使用，其它函数不能使用它。  

* 全局变量  
定义：在所有函数外部定义的变量，称为全局变量。  
作用域：全局变量的作用范围是从定义变量的位置开始到源程序结束，即全局变量可以被在其定义位置之后的其它函数所共享。  

## 存储类型

* 自动变量  
定义：自动变量是存储在堆栈中的。  
哪些是自动变量：被关键字auto修饰的局部变量都是自动变量，但是极少使用这个关键字，基本上是废的，因为所有的局部变量在默认情况下都是自动变量。  
生命周期：在程序执行到声明自动变量的代码块(函数)时，自动变量才被创建；当自动变量所在的代码块(函数)执行完毕后，这些自动变量就会自行销毁。如果一个函数被重复调用，这些自动变量每次都会重新创建。  

* 静态变量  
定义：静态变量是存储在静态内存中的，也就是不属于堆栈。  
哪些是静态变量：**所有的全局变量都是静态变量**；**被关键字static修饰的局部变量也是静态变量**。  
生命周期：静态变量在程序运行之前创建，在程序的整个运行期间始终存在，直到程序结束。  

* 寄存器变量  
定义：存储在硬件寄存器中的变量，称为寄存器变量。寄存器变量比存储在内存中的变量访问效率更高(默认情况下，自动变量和静态变量都是放在内存中的)  
哪些变量是寄存器变量：被关键字register修饰的自动变量都是寄存器变量；只有自动变量才可以是寄存器变量，全局变量和静态局部变量不行；寄存器变量只限于int、char和指针类型变量使用  
生命周期：因为寄存器变量本身就是自动变量，所以函数中的寄存器变量在调用该函数时占用寄存器中存放的值，当函数结束时释放寄存器，变量消失。  

