---
title: C语言-函数
date: 2019/10/13
tags: C
comments: true
---

func
<!--more-->

## 函数分类

* main函数。每个程序中只能有一个、也必须有一个主函数。无论主函数写在什么位置，C程序总是从主函数开始执行
* C语言提供的库函数，例如stdio.h中的输出函数printf()和输入函数scanf()
* 开发人员自定义的函数

## 声明与实现

```C
// 只是做个函数声明，并不用实现
int sum(int a, int b);
//main 函数
int main(int argc, char *argv[]) {
    int c = sum(1, 4);
    return 0;
}
// 函数的实现（函数的定义）
int sum(int a, int b) {
    return a + b;
}
```

* 在标准C语言中，函数的定义顺序是有讲究的，默认情况下，只有后面定义的函数才可以调用前面定义过的函数
* 如果想把其他函数的定义写在main函数后面，而且main函数能正常调用这些函数，那就必须在main函数前面作一下函数的声明
* 在大型的C程序中，为了分模块进行开发，一般会将函数的声明和定义(即实现)分别放在2个文件中，函数声明放在.h头文件中，函数定义放在.c源文件中

## printf

* printf(),这是在 stdio.h 中声明的一个函数，因此使用前必须加入 #include <stdio.h>  使用它可以向标准输出设备（比如屏幕）输出数据  
* printf("The price is %4d.", 14);  
%4d的意思是输出宽度为4，而"14"的宽度为2，因此多出2个宽度，多出的宽度就会在左边用空格填补，因此你会看到"14"左边多了2个空格；  
如果实际数值宽度比较大，比如用%4d输出宽度为6的"142434"，那就会按照实际数值宽度6来输出。  
* printf("The price is %-4d.", 14);  
%-4d表示输出宽度为4，如果比实际数值宽度大，多出的宽度会在右边用空格填补；如果4比实际数值宽度小，就按照实际数值的宽度来输出
* printf("My height is %.2f", 179.95f);  
输出2位小数，把%f换成%.2f即可
* printf("My height is %8.1f", 179.95f);  
可以同时设置输出宽度和小数位数

![常用的格式符及其含义](https://raw.githubusercontent.com/skybrim/AllImages/dev/%E5%B8%B8%E7%94%A8%E7%9A%84%E6%A0%BC%E5%BC%8F%E7%AC%A6%E5%8F%8A%E5%85%B6%E5%90%AB%E4%B9%89.png)

## scanf

这也是在stdio.h中声明的一个函数，因此使用前必须加入#include <stdio.h>。调用scanf函数时，需要传入变量的地址作为参数，scanf函数会等待标准输入设备（比如键盘）输入数据，并且将输入的数据赋值给地址对应的变量

```C
scanf("%d", &age);
```

scanf的第2个参数传递的不是age变量，而是age变量的地址&age，&是C语言中的一个地址运算符，可以用来获取变量的地址。
